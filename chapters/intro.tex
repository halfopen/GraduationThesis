\chapter{绪论}

社会的发展和经济的进步，导致人们的生活节奏越来越快。高强度的工作以及不健康的生活方式让处于亚健康状态的人们越来越多，健康养生也愈发成为当前热门的话题。同时，有限及分配不平衡的医疗资源经常不能及时地满足广大群众健康管理的需求\cite{雷鹏2019中国医疗资源配置与服务利用现状评价}。
信息技术，尤其是日常健康管理技术是解决这一问题的重要途径。健康管理技术可通过采集用户的心率，体重，血压等信息（通常需要借助额外的传感器等设备完成数据的采集），帮助用户了解自身的健康状况。
在这些可获取的信息中，面部信息除了用于识别身份、情绪之外，也包含大量和健康相关的信息，通过面部信息大致判断个人身体状况即面诊技术也有充足的理论与技术基础\cite{li2020tcminet}。
随着面诊技术相关研究的不断深入，基于面诊技术的各类面诊系统也在探索中\cite{林锋2019中医面诊系统调研报告}。

然而，现有的面诊系统大多局限于医疗环境，日常场景下中的面诊系统如何设计却缺乏对应的研究，各类面诊系统的设计也存在各种局限性。
日常场景下的面诊系统在交互设计层面会遇到哪些问题？面诊应用在系统设计上应该注意哪些方面？研究这一系列问题，将有助于面诊技术应用到日常场景中，满足用户日常健康管理的需要。

\section{研究背景及意义}
% 亚健康与慢性病问题严重, 医疗资源不足
健康是当前社会不可忽视的问题。
一方面，随着我国经济建设的步伐加快，我国处于亚健康状态的人群越来越庞大，在白领阶层更加严重。
亚健康通常用于描述一个人心理或生理处于健康与疾病的中间状态，虽然短期以来不影响人的正常生活，但会长期影响人的生活质量。
根据上海外服健康管理中心的30万份体检数据数据，2014年到2018年间上海的亚健康指数已经从94.6\%上升到98.7\%，同时健康意识指数也从82\%上升到84\%\cite{health_report2019}。
另一方面，当前人们享受着比以往时代更加长寿的生活，寿命的增加也间接造成了慢性病患病率的提高。
慢性病如糖尿病、高血压等，作为一种长期的疾病，大多数在目前的医疗条件下是无法治愈的，会伴随患者一生，也越来越得到人们的重视\cite{blandford2019hci, Ben2002A}。
在有限的医疗资源以及经济条件的背景下，慢性病患者不会一直待在医院，需要日常长期坚持服药或保持特定的饮食生活习惯，对原来的正常生活造成诸多影响\cite{lupton2017self}。

% 日常健康管理的重要性。
为了解决亚健康与慢性病给用户的生活带来的相关问题，人机交互(Human-Computer Interaction)的相关研究中大量对应的日常健康管理技术也随之出现。
人机交互研究是一种融合了计算机科学、社会学、心理学等学科领域，致力于探索以人为中心的相关交互设计、系统设计、方法论研究、定量或定性的经验性研究等\cite{lazar2017research}。
近年来，在健康领域人机交互研究的研究重心偏向于关注用户的日常生活体验，加强用户与医护人员的协作，提高用户的疾病认知等方面，可分为慢性疾病管理和鼓励用户健康生活方式两大类。
如
这些日常健康管理技术，在提高人们健康意识、养成良好的健康习惯等方面起着至关重要的作用\cite{ayobi2017quantifying}。

% 理论与文化基础
面诊技术有深厚文化基础和理论基础。
中国文化历史悠久，观察人的面部在中国也有深厚的文化基础。在长期的积累中，面部除了在人与人之间相互识别，情感交流等方面起着重要作用，还可以指示一个人的整体心理和情感健康状况，如显示出疲劳、抑郁的状态等，甚至有一系列专门研究面相的理论。面诊作为传统中医四诊（望闻问切）中重要的一步，在中国有深远的影响，大部分人都接受或理解通过观察面部进行健康诊断的方式。
大量研究表明，面部是反映一个人身体健康和精神面貌的重要部位，能够透露出各种健康状况甚至体内疾病的迹象。
在现代医学领域，当医生评估患者的总体体质并得出可能疾病的初步假设时，直接观察面部是医学诊断的一部分\cite{Clifford2006Shortliffe}。
内部器官的病变会导致面部出现对应的症状，通过观察面部对应的症状，如面部的颜色、形状、斑点等，可以大致推测内部器官的情况\cite{杨淑芳2002伤寒六经辨证初探}。
此外，医疗领域不仅有经验充足的面诊理论基础，大量学者也为面诊信息化做了实证研究，如面色和乙肝关系的研究\cite{杨宏志2007慢性乙型肝炎肝硬化中医面部五色诊断与临床病理的相关性研究， Li2008Therapeutic}、基于面部诊断黄疸\cite{艾英1998黄疸病人面部色泽定量实验研究}等。

% 技术基础, 介绍面诊系统的基本原理和发展


随着人工智能特别是基于深度学习的计算机视觉技术的发展，面诊技术变得日益成熟和广泛，将计算机面诊技术引入到日常健康场景下在技术上变的可行。
相比当前的基于穿戴式和便携式设备的日常健康诊断方法，在移动设备上基于面诊技术的日常健康管理有明显的优势：

\begin{itemize}
    \item 不需要额外的设备。当前的移动设备可以方便地获取用户的面部信息，基于面诊技术的日常健康管理应用成本更低，日常使用也更加方便。
    
    \item 大部分人在日常生活中有使用手机自拍的习惯，面诊也有悠久的文化基础和扎实的理论基础，基于面诊技术的日常健康管理可以融入到日常场景中。
\end{itemize}

然而，在如何设计系统、将面诊技术集成到日常健康管理的场景中，目前相关的系统设计还远远不够。
研究面诊系统在日常健康管理场景下的应用问题，需要通过实地调研，分析面诊技术在日常场景下的特点，了解用户的需要以及遇到的问题，帮助用户更好地使用基于面诊技术的面诊系统。
深入研究日常健康管理场景下的面诊系统设计与实现，将有助于将面诊技术从专业的诊所环境应用到日常健康场景，从而在一定程度上缓解当前整体公共医疗资源不足的压力，改善用户的生活品质。

\section{研究现状与存在的问题}

% \subsection{诊所环境下的面诊系统}
% 读脸技术发展背景
% 读脸技术的应用非常广泛，与本文相关领域主要可分为医疗健康与日常场景的应用。

% 在医疗健康领域，读脸技术主要帮助提高医护人员工作效率，如快速获取病人信息\cite{nwosu2016mobile}、远程监控\cite{Hossain2015Cloud}、辅助采集面部特征\cite{张红凯2015中医面诊信息采集与识别方法研究进展}等。
% 这类技术特点主要有两点：（1）为专业的医护人员设计。医护人员有丰富的专业知识，有足够的时间学习系统如何使用。（2）在诊所的标准环境下使用。与日常场景相比，通常诊所环境使用的都是价格昂贵的标准的设备来保证系统的可靠性。
% 那么在日常场景下，这类技术是否能够满足用户使用的需要以及会出现什么问题仍亟待进一步的研究。
在医疗健康领域，面诊技术主要帮助提高医护人员工作效率，如辅助采集面部特征\cite{张红凯2015中医面诊信息采集与识别方法研究进展}、远程健康监控\cite{Hossain2015Cloud}等。

% 面诊仪

% 云中医智能镜、云中医机器人。

这类技术特点主要有两点：
\begin{itemize}
    \item 为专业的医护人员设计。医护人员有丰富的专业知识，有足够的时间学习系统如何使用。
    
    \item 在诊所的标准环境下使用。与日常场景相比，通常诊所环境使用的都是价格昂贵的标准的设备来保证系统的可靠性。

\end{itemize}

那么在日常场景下，这类技术是否能够满足用户使用的需要以及会出现什么问题仍亟待进一步的研究。

% 在日常场景下，许多研究致力于如何将读脸技术融入到用户的日常生活中，如将读脸技术与冰箱结合起来，提醒用户在日常生活中保持微笑\cite{Tsujita2011Smiling}；将读脸技术与镜子结合起来，在用户照镜子的时候检测用户的健康状况\cite{andreu2015mirror}等。这类技术能够将读脸技术融入到用户的日常生活中，但缺点是不够便携而且需要结合额外的硬件设备成本。
% % 存在问题

% % \subsection{便携式面诊系统}
% 关于日常场景下与健康相关的交互技术，人机交互领域长期以来有大量的相关研究，但主要集中在慢性病管理和健康行为引导两个方面。

% 以慢性病管理为例，慢性病作为一种无法治愈的疾病，病人通过日常的健康管理能够增加对病情的控制从而提高生活的品质，例如研究如何帮助糖尿病\cite{mamykina2008mahi}、痴呆\cite{yasuda2009remote}以及多发性硬化\cite{ayobi2017quantifying}等病人在日常场景下更好地进行检测以及提高控制意识等。在健康行工作为引导方面，相关研究则关注于通过监控日常行为\cite{purpura2011fit4life,Inagawa2013A,bravata2007using,cordeiro2015barriers,lin2006fish, miller2014stepstream}以及健康指标\cite{kay2012lullaby,gronvall2013beyond,logan2007mobile,walters2010a}、用户行为劝导、吸引用户持续使用等技术，鼓励大家采集更加健康的生活方式预防疾病的发生。

% 这类技术对日常场景下的健康管理有非常深入的交互研究，包括各类慢性病以及各类用户行为以及健康指标的监控等，关于如何利用面部信息来支持日常健康管理的研究还非常缺乏。
% 存在问题

\section{本文研究内容与创新}

本文以日常场景下面诊技术的应用问题，基于人机交互的研究方法，主要对以下几个方面进行了探索：

\subsection{利用技术探针探索日常场景下面诊应用的用户研究}

目前大部分的面诊技术主要应用场景在诊所环境下，我们用人机交互研究方法对面诊技术在日常场景下的使用进行了用户研究，选用云中医作为技术探针设计并开展实验，探索了日常健康场景下面诊技术的特点以及待解决的问题，并提出了对应的日常场景下如何设计面诊应用的解决方案，填补了日常健康场景下面诊技术的应用研究的空白\cite{ding2019reading}。

通过用户研究和数据分析我们发现，和诊所环境相比，日常健康场景下基于面诊技术的健康管理应用主要有以下几点问题亟待解决: 

\begin{itemize}
    
    \item 长期使用。诊所环境下，面诊技术默认只考虑用户在就诊时的单次使用。日常场景下的面诊技术应用，需要考虑用户多次使用并且跟踪用户的使用情况，是一个长期的过程。在日常场景下，如何吸引用户继续使用、如果提高日常使用场景下交互的便捷性、如何引导用户改变自己的生活方式，提高生活质量等也是需要考虑的问题。

    \item 设备的多样性。在诊所环境下，用户是在专门的设备下进行健康诊断。而在日常场景下，所有操作都在用户的移动设备上完成。用户的移动设备差异性比较大，特别是安卓系统的碎片化问题非常严重。不同用户的设备从移动操作系统到硬件计算能力和存储空间的都存在很大的差异性。如何在不同的用户设备环境下，让用户快速稳定地完成面诊流程是一个待解决的问题。
    
    \item 用户的多样性。各类用户的受教育程度，日常空余时间，职业、工作场合是需要考虑的因素。比如在日常使用的时候，与诊所环境下不同，用户在使用过程中可询问的专业技术人员，大部分用户没有医疗相关的专业知识，使用起来会比较困难，在日常场景下帮助用户理解诊断过程和诊断结果难度更大。
    
    \item 敏感性问题。用户在日常场景下完成面诊的过程中，可能会因为需要拍面部、伸出舌头拍舌苔而感到尴尬，限制了用户的日常使用范围。

\end{itemize}

此外，通过调研市面上主流的面诊系统，我们发现目前大多面诊系统都非常地定制化，依赖特定的设备和模型，没有一个对面诊系统抽象地建模，可拓展的面诊系统设计方案。

% 为解决以上的问题，我们设计并实现了支持系统可解释性，日常可用性的交互设计和基于模型管理和诊断任务拆分的跨平台分布式面诊系统，并通过实验进行了验证。

\subsection{面向日常健康场景的面诊系统设计与实现}

为了支持后续的深入研究以及解决设备多样性的问题，本文在系统设计层面实现了以下几个方面的功能：

\begin{itemize}

    \item 跨平台实现与模型服务化。本文采用了mui跨平台方案与容器化技术，让模型在服务端运行，屏蔽了用户的设备差异。通过容器化技术将算法模型打包成独立的服务，提高了系统的整体服务并发度和稳定性。

    \item 诊断任务拆分与管理。一次完整诊断任务包含预处理、特征提取与特征分类等子任务。对诊断任务进行拆分，可以提高系统资源利用率和灵活性。
    
    \item 基于有向无环图的模型管理。本文对一次面诊过程进行了建模，将用户信息输入到诊断结果中的模型依赖抽象为一个大的有向无环图，方便后续增加模型实例数与模型迭代。
    
    \item 面向日常场景的交互设计。为了解决用于长期使用、实用性、敏感性、情绪与信赖等问题，本文提出了并实现了可解释、日常可用的交互设计。

\end{itemize}

最后，我们设计并实现了更加适合日常场景下使用的面诊系统，并通过实验进行了对比验证。

\section{论文结构}
本文按照一共组织了六个章节，具体的论文结构如下：

第一章，绪论。介绍了本文工作的研究背景和研究意义，概括了当前的研究现状和存在的问题，最后介绍了本文的主要工作和创新点。

第二章，相关工作。介绍了和本文工作相关的研究情况，首先大致描述了面诊技术的概念和发展，然后介绍当前比较流行的基于面诊技术的应用。

第三章，基于技术探针的交互研究。就本文的研究问题，采用技术探针的方法进行了交互研究，设计了调研问卷和深度访谈。通过对访谈数据的仔细分析，总结出了日常场景下面诊技术的特点，发现了其中存在的问题。

第四章，面向日常健康场景的面诊系统设计。介绍了本文设计并实现的用于面诊交互实验的实验平台，该平台提供了用户操作记录管理，问卷关联，模型管理，任务管理等功能。该系统设计提高了后续交互实验的效率，解决了第三章提到的影响用户使用的设备多样性问题。

第五章，系统实现及验证实验。本文对面向日常健康场景的面诊系统设计进行了实现，并通过验证实验，验证了工作的有效性。

第六章，总结与展望。总结了本文的三个主要工作内容和不足之处，并对后续工作进行了展望。